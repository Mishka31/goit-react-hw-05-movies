(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[1],{114:function(t,e,n){"use strict";n.r(e);var c=n(77),a=n(15),r=n(0),o=n(6),i=n(18),s=n(70),u=n(90),h=n.n(u),j=(n(91),n(2)),l=Object(r.lazy)((function(){return n.e(0).then(n.bind(null,94))})),b=Object(r.lazy)((function(){return n.e(2).then(n.bind(null,93))}));e.default=function(t){var e,n=Object(o.g)(),u=Object(o.h)(),d=Object(r.useState)([]),f=Object(a.a)(d,2),m=f[0],O=f[1],p=Object(r.useState)(""),v=Object(a.a)(p,2),x=v[0],g=v[1],_=t.match.params.slug.match(/[a-z0-9]+$/)[0],k=Object(o.j)(),w=k.url,y=k.path;return console.log(w,y),Object(r.useEffect)((function(){Object(s.b)(_).then(O).catch((function(t){var e=t.message;return alert(e)})),g(u.state.from.search)}),[u.state.from.search,_]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:h.a.button,type:"button",onClick:function(){var t,e;n.push(null!==(t=null===u||void 0===u||null===(e=u.state)||void 0===e?void 0:e.from)&&void 0!==t?t:"/")},children:"\u2b05 Go back"}),Object(j.jsxs)("div",{className:h.a.mainContainer,children:[Object(j.jsxs)("div",{className:h.a.container,children:[m.poster_path&&Object(j.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300").concat(m.poster_path),alt:""}),m?Object(j.jsxs)("div",{className:h.a.about,children:[Object(j.jsx)("h1",{children:null!==(e=m.name)&&void 0!==e?e:m.title}),Object(j.jsxs)("p",{children:["User score: ",10*m.vote_average,"%"]}),Object(j.jsx)("h2",{children:"Overview"}),Object(j.jsx)("p",{children:m.overview}),Object(j.jsx)("h2",{children:"Genres"}),Object(j.jsx)("p",{children:m.genres&&m.genres.map((function(t){var e=t.id,n=t.name;return Object(j.jsxs)("span",{children:[" ",n," "]},e)}))}),Object(j.jsxs)("div",{className:h.a.link,children:[Object(j.jsx)("h4",{children:"Additional information:"}),Object(j.jsx)(i.b,{to:{pathname:"".concat(w,"/cast"),state:{from:Object(c.a)(Object(c.a)({},u),{},{pathname:u.state.from.pathname,search:x})}},children:"Cast"}),Object(j.jsx)(i.b,{to:{pathname:"".concat(t.match.url,"/reviews"),state:{from:Object(c.a)(Object(c.a)({},u),{},{pathname:u.state.from.pathname,search:x})}},children:"Reviews"})]})]}):Object(j.jsx)("p",{className:h.a.about,children:'"The resource you requested could not be found"'})]}),Object(j.jsx)("div",{children:Object(j.jsxs)(r.Suspense,{fallback:Object(j.jsx)("h1",{children:"DOWNLOAD"}),children:[Object(j.jsx)(o.b,{path:"".concat(t.match.path,"/cast"),render:function(t){return Object(j.jsx)(l,Object(c.a)({},t))}}),Object(j.jsx)(o.b,{path:"".concat(t.match.path,"/reviews"),render:function(t){return Object(j.jsx)(b,Object(c.a)({},t))}})]})})]})]})}},70:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return h})),n.d(e,"e",(function(){return j}));var c="https://api.themoviedb.org/3",a="17efd9533173edd759f83ef376bcff4f",r="language=en-US",o=function(t){return t.ok?t.json():Promise.reject(new Error("Something went wrong, go back and try again."))};function i(t){return fetch("".concat(c,"/search/movie?api_key=").concat(a,"&").concat(r,"&query=").concat(t,"&page=1&include_adult=false")).then((function(t){return o(t)}))}function s(t){return fetch("".concat(c,"/movie/").concat(t,"?api_key=").concat(a,"&").concat(r)).then((function(t){return o(t)}))}function u(t){return fetch("".concat(c,"/movie/").concat(t,"/credits?api_key=").concat(a,"&").concat(r)).then((function(t){return o(t)}))}function h(t){return fetch("".concat(c,"/movie/").concat(t,"/reviews?api_key=").concat(a,"&").concat(r,"&page=1")).then((function(t){return o(t)}))}function j(){return fetch("".concat(c,"/trending/movie/day?api_key=").concat(a)).then((function(t){return o(t)}))}},90:function(t,e,n){t.exports={container:"FilmDetails_container__2c57r",about:"FilmDetails_about__ZaXcm",link:"FilmDetails_link__2e1Wm",button:"FilmDetails_button__2U9GX"}}}]);
//# sourceMappingURL=FilmDetails.419f084f.chunk.js.map